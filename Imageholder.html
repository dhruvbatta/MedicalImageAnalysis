
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="shortcut icon" type="image/x-icon" href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico" />
<link rel="mask-icon" type="" href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111" />
<title>CodePen - Responsive image placeholders</title>
<style>
      .js-img > img {
  width: 100%;
  height: auto;
  display: inline-block;
  vertical-align: middle;
  position: absolute;
}

.isLoading {
  opacity: 0;
  transition: opacity .5s ease;
}

.js-img {
  height: 0;
  background: #eeeeee;
  position: relative;
}
    </style>
<script>
  window.console = window.console || function(t) {};
</script>
<script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
</script>
</head>
<body translate="no">
<div class="js-img"><img src="//placehold.it/5000x3000" width="500" height="300" alt="" /></div>
<script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-de7e2ef6bfefd24b79a3f68b414b87b8db5b08439cac3f1012092b2290c719cd.js"></script>
<script id="rendered-js">
      var placeholders = document.querySelectorAll('.js-img');
var showImg = function (img) {
  img.style.opacity = 1;
};

Array.prototype.forEach.call(placeholders, function (placeholder) {
  var img = placeholder.querySelector('img');
  placeholder.style.padding = '0 0 ' + img.height / img.width * 100 + '%';
  if (img.loaded) {
    showImg(img);
    return;
  }
  img.classList.add('isLoading');
  var showThisImg = function () {
    showImg(img);
    img.removeEventListener('load', showThisImg);
  };
  img.addEventListener('load', showThisImg);
});
      //# sourceURL=pen.js
    </script>
<script src="https://static.codepen.io/assets/editor/live/css_reload-5619dc0905a68b2e6298901de54f73cefe4e079f65a75406858d92924b4938bf.js"></script>
</body>
</html>
